
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Bonus: NPM Scripts & Basic Webpack Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-hints/plugin-hints.css">
                
            
                
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-sectionx/sectionx.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../survey.html" />
    
    
    <link rel="prev" href="package_locks.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../prep_work.html">
            
                <a href="../prep_work.html">
            
                    
                    Prep Work
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../project/part_1_create_a_project_folder.html">
            
                <a href="../project/part_1_create_a_project_folder.html">
            
                    
                    Part 1:  Create a project folder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../project/part_2_create_the_project_files.html">
            
                <a href="../project/part_2_create_the_project_files.html">
            
                    
                    Part 2:  Create the project files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../project/part_3_create_a_package_json_file.html">
            
                <a href="../project/part_3_create_a_package_json_file.html">
            
                    
                    Part 3:  Create a package.json file
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../project/part_4_install_browserify_globally.html">
            
                <a href="../project/part_4_install_browserify_globally.html">
            
                    
                    Part 4:  Install Browserify (Globally)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../project/part_5_install_a_dependency_via_command_line.html">
            
                <a href="../project/part_5_install_a_dependency_via_command_line.html">
            
                    
                    Part 5: Install a dependency via command line
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../project/part_6_use_the_new_dependency.html">
            
                <a href="../project/part_6_use_the_new_dependency.html">
            
                    
                    Part 6: Use the new dependency
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../project/part_7_install_a_dependency_via_packagejson_direct.html">
            
                <a href="../project/part_7_install_a_dependency_via_packagejson_direct.html">
            
                    
                    Part 7: Install a dependency via package.json directly
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../homework.html">
            
                <a href="../homework.html">
            
                    
                    Homework
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="package_locks.html">
            
                <a href="package_locks.html">
            
                    
                    Bonus: Package Locks
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.12" data-path="webpack_basic.html">
            
                <a href="webpack_basic.html">
            
                    
                    Bonus: NPM Scripts & Basic Webpack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../survey.html">
            
                <a href="../survey.html">
            
                    
                    Survey
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Bonus: NPM Scripts & Basic Webpack</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="npm-scripts--browserify-like-webpack"><strong>npm</strong> Scripts &amp; Browserify-like Webpack</h3>
<p>Earlier we used <strong>Browserify</strong> to bundle our JavaScript files. <strong>Webpack</strong> is another tool that developers use as it offers similar &amp; yet more robust capabilities. However, after using <strong>Browserify</strong>, it can be intimidating to use <strong>Webpack</strong>, so let&apos;s tackle it.</p>
<p>In your CLI, make sure <code>pwd</code> [your current working directory] is <em>packagesproject</em>.</p>
<ol>
<li><p>First, we need to install <strong>Webpack</strong>. Instead of installing it globally [like we did with <strong>Browserify</strong>], we&apos;re going to install it to our project. In your CLI, type: <code>npm install webpack --save-dev</code>  </p>
<p><div class="alert alert-success hints-alert"><div class="hints-icon"><i class="fa fa-mortar-board"></i></div><div class="hints-container"><p>  This installs the <strong>Webpack</strong> package and adds it to your <em>package.json</em> in the <code>devDependencies</code> section. We install it as a dev dependency since we only want to use the package for the development of our project and we won&apos;t be including <strong>Webpack</strong> with our application in production.</p>
<p>   You can install either <strong>Browserify</strong> or <strong>Webpack</strong> globally [with <code>-g</code> flag or locally to the project]. We&apos;re installing <strong>Webpack</strong> to our project to illustrate the difference.</p>
</div></div></p>
</li>
<li><p>You can use <strong>Webpack</strong> very similar to <strong>Browserify</strong>. Delete the bundle.js file from your project &amp; in your CLI type: <code>webpack index.js bundle.js</code></p>
<p>What&apos;s that? You got an error? <code>&apos;webpack&apos; is not recognized as an internal or external command, operable program or batch file.</code></p>
<p>Oh yea, that&apos;s because we installed <strong>Webpack</strong> locally.</p>
<p>Let&apos;s use the <code>webpack</code> command out of our project&apos;s local <em>node_modules</em>. In your CLI, type: <code>./node_modules/.bin/webpack index.js bundle.js</code></p>
<p><img src="../images/webpack-command-location.png" style="max-width: 50%;"></p>
<p><div class="alert alert-success hints-alert"><div class="hints-icon"><i class="fa fa-mortar-board"></i></div><div class="hints-container"><p>  If you open the generated <em>bundle.js</em> file, you&apos;ll notice it&apos;s larger than the <strong>Browserify</strong> version. Your code is in there (might use Atom&apos;s search b/c it&apos;s a bit hidden in there), <strong>lodash</strong> is in there <strong>and</strong> there is some extra <strong>Webpack</strong> code in there that enables <strong>Webpack</strong> to do its own thing.</p>
</div></div></p>
</li>
<li><p>Obviously having to type <code>./node_modules/.bin/webpack index.js bundle.js</code> everytime you want to build your file isn&apos;t ideal. Let&apos;s add an <strong>npm</strong> script to make our lives easier. Open your <em>package.json</em> file in Atom.</p>
</li>
<li><p>There is already a script in there, look for the following:</p>
<pre><code>&quot;scripts&quot;: {
 &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
},
</code></pre><p>Add a comma at the end of the line that starts with <code>&quot;test&quot;</code> (after the ending quote) &amp; hit enter.</p>
<p>On the new line, type: <code>&quot;bundle&quot;: &quot;webpack index.js bundle.js&quot;</code></p>
<p>It should look like the following:</p>
<p><img src="../images/npm-scripts.png" alt=""></p>
<p><div class="alert alert-success hints-alert"><div class="hints-icon"><i class="fa fa-mortar-board"></i></div><div class="hints-container"><p>  Whoa. Why didn&apos;t you have to include the <code>./node_modules/.bin/</code> in front of <code>webpack</code>?</p>
<p>  That&apos;s because since the package is installed locally to the project, the <strong>npm</strong> script can find the command by simply using the command name.</p>
</div></div></p>
</li>
<li><p>Now, you can run the <strong>npm</strong> script by typing the following in your CLI: <code>npm run bundle</code></p>
<p><div class="alert alert-success hints-alert"><div class="hints-icon"><i class="fa fa-mortar-board"></i></div><div class="hints-container"><p>  Anything in the <strong>scripts</strong> portion can be run with <code>npm run &lt;propertyName&gt;</code>, where <strong>propertyName</strong> is whatever you&apos;ve set in the quotes before the <code>:</code>.</p>
</div></div></p>
</li>
</ol>
<h3 id="webpack-with-config">Webpack with Config</h3>
<p>So using <strong>Webpack</strong> like <strong>Browserify</strong> was pretty straightforward, but you&apos;re probably not going to find anything like that in a real life project. So let&apos;s jump into a more realistic example.</p>
<ol>
<li><p>In your <em>packagesproject</em> directory, create a new file &amp; name it: <strong>webpack.config.js</strong></p>
</li>
<li><p>Open the <em>webpack.config.js</em> in Atom and add the following &amp; save the file:</p>
<pre><code>module.exports = {
 entry: &apos;./index.js&apos;,
 output: {
   filename: &apos;./bundle.js&apos;
 }
};
</code></pre><p><div class="alert alert-success hints-alert"><div class="hints-icon"><i class="fa fa-mortar-board"></i></div><div class="hints-container"><p>  The <strong>module.exports</strong> is a bit out of scope for tonight&apos;s session. We&apos;ll cover it a bit next month, but it is basically exposing the <strong>entry</strong> and <strong>output</strong> properties so that the <strong>Webpack</strong> utility can find and use them.</p>
<p>  <strong>entry</strong> is our main JavaScript file [like the <strong>main</strong> property we specified in our <em>package.json</em>]</p>
<p>  <strong>output</strong> can take multiple properties, but we&apos;re only going to use one, the <strong>filename</strong> - which is the file name we want to use for the bundled JavaScript file</p>
</div></div></p>
</li>
<li><p>Now that you have the config file set up, you can use the <code>webpack</code> command by itself to generate the <em>bundle.js</em> file. Since we don&apos;t have <strong>Webpack</strong> installed globally, we&apos;d still have to do <code>./node_modules/.bin/webpack</code>, so let&apos;s add a couple scripts to make our lives easier.</p>
</li>
<li><p>Open <em>package.json</em> in Atom &amp; add the following scripts:</p>
<pre><code>&quot;build&quot;: &quot;webpack&quot;,
&quot;minbuild&quot;: &quot;webpack -p&quot;,
&quot;watch&quot;: &quot;webpack --watch&quot;
</code></pre><p><div class="alert alert-success hints-alert"><div class="hints-icon"><i class="fa fa-mortar-board"></i></div><div class="hints-container"><p>  Scroll up to our earlier example if you need a reminder on where to add these.</p>
</div></div></p>
</li>
<li><p>Let&apos;s try running each of these scripts. In your CLI, type: <code>npm run build</code>  </p>
<p>This command works just like our <strong>Browserify</strong> or earlier <strong>Webpack</strong> commands, the <em>bundle.js</em> has our code, <strong>lodash</strong> &amp; some <strong>Webpack</strong> code.</p>
</li>
<li><p>Now, let&apos;s do the one with the <code>-p</code> flag. In your CLI, type: <code>npm run minbuild</code></p>
<p>The <code>-p</code> flag is short for <strong>production</strong> and using it makes your <em>bundle.js</em> file ready for production. What does that mean? In short, it <strong>minifies</strong> the <em>bundle.js</em> file. Open the <em>bundle.js</em> file in Atom &amp; take a look. It should like a bunch of random letters/numbers all squished together.</p>
<p><div class="alert alert-info hints-alert"><div class="hints-icon"><i class="fa fa-info-circle"></i></div><div class="hints-container"><p>  <strong>Minification</strong> is meant to reduce the file size, which in turn means the file can load faster in a browser and boost your application&apos;s performance. In minification, extra whitespace is removed [spaces between words/logic, line breaks -- all of it]. It takes your very descriptive variable/method names and replaces them with a few letters that appear random.</p>
<p>  They just appear random, the variable/method names still match up in the code base, so your application still runs the same as it did before. [Take the variable <code>wine</code>. It would be replaced everywhere in the code with <code>w</code>.]</p>
<p>  When you&apos;re working on a large project, the code can get very large, so minifying helps to make the application&apos;s performance better with files reduced in size.</p>
</div></div></p>
</li>
<li><p>Watch, this is going to be fun [pun intended]. In your CLI, type: <code>npm run watch</code></p>
<p><strong>Webpack</strong> is now watching your code for changes. That means you can update the code in <em>index.js</em> &amp; when you save the file, <strong>Webpack</strong> will automatically update the <em>bundle.js</em> file. If you reload <em>index.html</em> in Chrome, you&apos;ll see the updates without having to run a command.</p>
<p><div class="alert alert-success hints-alert"><div class="hints-icon"><i class="fa fa-mortar-board"></i></div><div class="hints-container"><p>  In order to stop the <strong>watch</strong> command from continuing to run in the CLI, we need to stop it. On a Mac, the shortcut is <strong>cmd</strong> + <strong>c</strong>. On Windows, the shortcut is <strong>ctrl</strong> + <strong>c</strong>.</p>
</div></div></p>
</li>
<li><p>So that&apos;s fun, but refreshing is one more step. We can do better. In your CLI, type: <code>npm install webpack-dev-server --save-dev</code></p>
<p>This is installing another <strong>Webpack</strong> package.</p>
</li>
<li><p>Open your <em>package.json</em> in Atom and add the following script:</p>
<p><code>&quot;start&quot;: &quot;webpack-dev-server --open&quot;</code></p>
<p>This script will start the <strong>webpack-dev-server</strong>.</p>
</li>
<li><p>Open your <em>webpack.config.js</em> file in Atom. Add a <code>,</code> after the closing curly brace for <code>output</code> and add the following:</p>
<pre><code>devServer: {
  contentBase: &apos;./&apos;
}
</code></pre><p>This is telling the <strong>webpack-dev-server</strong> what directory to look for file changes, which is the root/top-level directory of our project.</p>
<p>The <em>webpack.config.js</em> file should look like this:</p>
<pre><code>module.exports = {
  entry: &apos;./index.js&apos;,
  output: {
    filename: &apos;./bundle.js&apos;
  },
  devServer: {
    contentBase: &apos;./&apos;
  }
};
</code></pre></li>
<li><p>In the CLI, type <code>npm run start</code></p>
<p>The dev server is now watching your code &amp; will automatically reload the browser, if you make any changes.</p>
</li>
<li><p>Open <em>index.html</em> in Chrome, and open <em>index.js</em> in Atom. If you can, make them side-by-side, so you can see Chrome, while you make a change to the code.</p>
</li>
<li><p>Update <code>white</code> in <em>index.js</em> to be <code>blue</code> and save the file. Chrome should automagically refresh and show you the new code.</p>
<p><img src="https://media.giphy.com/media/OUwzqE4ZOk5Bm/giphy.gif" alt=""></p>
</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="package_locks.html" class="navigation navigation-prev " aria-label="Previous page: Bonus: Package Locks">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../survey.html" class="navigation navigation-next " aria-label="Next page: Survey">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Bonus: NPM Scripts & Basic Webpack","level":"1.12","depth":1,"next":{"title":"Survey","level":"1.13","depth":1,"path":"survey.md","ref":"survey.md","articles":[]},"previous":{"title":"Bonus: Package Locks","level":"1.11","depth":1,"path":"bonus/package_locks.md","ref":"bonus/package_locks.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["custom-favicon","hints","sectionx","livereload"],"pluginsConfig":{"livereload":{},"search":{},"hints":{"danger":"fa fa-exclamation-circle","info":"fa fa-info-circle","tip":"fa fa-mortar-board","working":"fa fa-wrench"},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"sectionx":{},"highlight":{},"favicon":"images/favicon.ico","custom-favicon":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"bonus/webpack_basic.md","mtime":"2017-08-12T20:19:52.993Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-08-12T20:22:23.628Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sectionx/sectionx.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

